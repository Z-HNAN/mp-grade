require("../../../common/manifest.js")
require("../../../common/vendor.js")
global.webpackJsonpMpvue([5],{Aujw:function(a,t,e){"use strict";var r=e("Dd8w"),n=e.n(r),i=e("HKtd"),s=e("9Ipl"),o=e("dBoj"),d=e("JlA0"),c=e("diVR"),l=e("NYxO"),u=e("lu1G");t.a={data:function(){return{shadowColor:["#e97f02","#e36868","#a3bac2","#bfad86","#94b38f","#f5be33"],currentNavBar:0,isTourist:!0,dragInfo:{},userData:u.a.userData,rankData:u.a.rankData,totalData:u.a.totalData,avgData:u.a.avgData,isRender:!1}},methods:n()({},Object(l.b)(["getUserinfo"]),{handleGetUserInfo:function(a){var t=this;a.mp.detail.rawData&&wx.cloud.callFunction({name:"register"}).then(function(a){t.getUserinfo(),wx.switchTab({url:"/pages/home/main"})})},goGradeNew:function(){wx.showToast({icon:"none",title:"(〃'▽'〃)请先授权登录"})},navBarTo:function(a){this.currentNavBar=a},handleDragStart:function(a){this.dragInfo.startX=a.clientX,this.dragInfo.startY=a.clientY},handleDragEnd:function(a){this.dragInfo.endX=a.mp.changedTouches[0].clientX,this.dragInfo.endY=a.mp.changedTouches[0].clientY;var t=this.userData.length,e=this.currentNavBar;this.dragInfo.endX-this.dragInfo.startX>50&&Math.abs(this.dragInfo.endY-this.dragInfo.startY)<50?e=e<=0?0:e-1:this.dragInfo.endX-this.dragInfo.startX<-50&&Math.abs(this.dragInfo.endY-this.dragInfo.startY)<50&&(e=e>=t?t:e+1),e!==this.currentNavBar&&this.navBarTo(e)}}),components:{gradeLineBox:i.a,gradeRankBox:s.a,gradeTotalBox:o.a,gradeRadarBox:d.a,gradeDetail:c.a},beforeMount:function(){var a=this;if(this.isTourist=0!==parseInt(this.$mp.query.tourist),!1===this.isTourist)return this.isRender=!0;wx.getUserInfo({complete:function(t){t.rawData?wx.switchTab({url:"/pages/preview/index/main"}):(wx.cloud.database().collection("guide").where({type:"new"}).orderBy("url","asc").get().then(function(a){wx.previewImage({urls:a.data.map(function(a){return a.url})})}),a.isRender=!0)}})}}},MpVk:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("5nAL"),n=e.n(r),i=e("jAgl");new n.a(i.a).$mount()},aMut:function(a,t,e){"use strict";var r={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"body",attrs:{eventid:"7"},on:{touchstart:a.handleDragStart,touchend:a.handleDragEnd}},[a.isRender?a._e():e("div",{staticClass:"weui-loadmore"},[e("i",{staticClass:"weui-loading"}),a._v(" "),e("span",{staticClass:"weui-loadmore__tips "},[a._v("授权后可有更多功能哦")])],1),a._v(" "),e("div",{staticClass:"navbar-wrap"},[e("div",{staticClass:"weui-tab"},[e("div",{staticClass:"weui-navbar"},[e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":0===a.currentNavBar},attrs:{eventid:"0"},on:{tap:function(t){a.navBarTo(0)}}},[a._v("\n                总览\n            ")]),a._v(" "),e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":1===a.currentNavBar},attrs:{eventid:"1"},on:{tap:function(t){a.navBarTo(1)}}},[a._v("\n                数学(理)\n            ")]),a._v(" "),e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":2===a.currentNavBar},attrs:{eventid:"2"},on:{tap:function(t){a.navBarTo(2)}}},[a._v("\n                语文\n            ")]),a._v(" "),e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":3===a.currentNavBar},attrs:{eventid:"3"},on:{tap:function(t){a.navBarTo(3)}}},[a._v("\n                英语\n            ")]),a._v(" "),e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":4===a.currentNavBar},attrs:{eventid:"4"},on:{tap:function(t){a.navBarTo(4)}}},[a._v("\n                理综\n            ")])])])]),a._v(" "),e("div",[a.isTourist?e("div",{staticClass:"tourist-head weui-cell"},[e("div",{staticClass:"weui-cell__bd"},[e("p",{staticClass:"tourist-head-btn"},[e("Button",{staticClass:"weui-btn weui-btn_plain-primary",attrs:{"open-type":"getUserInfo",eventid:"5",mpcomid:"0"},on:{getuserinfo:a.handleGetUserInfo}},[e("span",{staticClass:"iconfont icon-authorization"}),a._v("创建自己的记录册")])],1),a._v(" "),e("p",{staticClass:"tourist-head-tips"},[a._v("届时您的成绩也会以此方式呈现上去")])],1)]):a._e(),a._v(" "),e("div",{staticClass:"grade-line-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===a.currentNavBar,expression:"currentNavBar === 0"}],staticClass:"totalView"},[e("div",{staticClass:"grade-line-wrap"},[e("grade-rank-box",{attrs:{data:a.rankData.grades,rankName:a.rankData.rankName,maxRank:a.rankData.maxRank,isRender:a.isRender,shadowColor:a.shadowColor[0],mpcomid:"1"}})],1),a._v(" "),e("div",{staticClass:"grade-line-wrap"},[e("grade-total-box",{attrs:{data:a.totalData.grades,totalName:a.totalData.totalName,maxTotal:a.totalData.maxTotal,url:"/pages/grade/total/main?login=0",shadowColor:a.shadowColor[1],mpcomid:"2"}})],1),a._v(" "),e("div",{staticClass:"grade-line-wrap"},[e("grade-radar-box",{attrs:{data:a.avgData.grades,avgName:a.avgData.avgName,shadowColor:a.shadowColor[2],circle:"circle",mpcomid:"3"}})],1)]),a._v(" "),a._l(a.userData,function(t,r){return a.currentNavBar===r+1?e("div",{key:r,staticClass:"grade-line-wrap"},[e("grade-detail",{attrs:{gradeId:t.gradeId,isTourist:!0,mpcomid:"4_"+r}})],1):a._e()})],2),a._v(" "),e("transition",{attrs:{name:"fade",mpcomid:"5"}},[e("div",{staticClass:"grade-add",attrs:{eventid:"6"},on:{tap:a.goGradeNew}},[e("img",{attrs:{src:"/static/images/add.png",alt:""}})])])],1)])},staticRenderFns:[]};t.a=r},c0lU:function(a,t){},jAgl:function(a,t,e){"use strict";var r=e("Aujw"),n=e("aMut");var i=function(a){e("c0lU")},s=e("ybqe")(r.a,n.a,i,"data-v-b203d4fc",null);t.a=s.exports}},["MpVk"]);