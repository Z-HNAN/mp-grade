require("../../../common/manifest.js")
require("../../../common/vendor.js")
global.webpackJsonpMpvue([6],{"4Tbv":function(a,t){},"cM+9":function(a,t,e){"use strict";var r=e("Xxa5"),s=e.n(r),n=e("//Fk"),i=e.n(n),o=e("exGp"),d=e.n(o),c=e("Dd8w"),g=e.n(c),l=e("HKtd"),u=e("9Ipl"),v=e("dBoj"),h=e("JlA0"),m=e("diVR"),f=e("NYxO");t.a={data:function(){return{shadowColor:["#e97f02","#e36868","#a3bac2","#bfad86","#94b38f","#f5be33"],currentNavBar:0,dragInfo:{},userData:[],rankData:[],totalData:[],avgData:{},isLoaded:!1,toggleFresh:!0}},computed:g()({},Object(f.c)(["userinfo"]),{renderTips:function(){return this.$store.getters.getRandomTip()}}),methods:g()({},Object(f.b)(["getNameGradeList","getUserinfo","getUserGradeList","getTipsList","getPaperPackage","fixGrade"]),{goGradeNew:function(){wx.navigateTo({url:"/pages/grade/new/main"})},handRefresh:function(){var a=this;this.isLoaded=!1,this.getUserGradeList().then(function(){a.userData=a.$store.getters.getSimpleAllUserGrade(),a.totalData=a.$store.getters.getTotalGrade(),a.rankData=a.$store.getters.getGradeRank(),a.avgData=a.$store.getters.getGradeAvg(),a.isLoaded=!0})},navBarTo:function(a){this.currentNavBar=a},handleDragStart:function(a){this.dragInfo.startX=a.clientX,this.dragInfo.startY=a.clientY},handleDragEnd:function(a){this.dragInfo.endX=a.mp.changedTouches[0].clientX,this.dragInfo.endY=a.mp.changedTouches[0].clientY;var t=this.userData.length,e=this.currentNavBar;this.dragInfo.endX-this.dragInfo.startX>50&&Math.abs(this.dragInfo.endY-this.dragInfo.startY)<50?e=e<=0?0:e-1:this.dragInfo.endX-this.dragInfo.startX<-50&&Math.abs(this.dragInfo.endY-this.dragInfo.startY)<50&&(e=e>=t?t:e+1),e!==this.currentNavBar&&this.navBarTo(e)}}),components:{gradeLineBox:l.a,gradeRankBox:u.a,gradeTotalBox:v.a,gradeRadarBox:h.a,gradeDetail:m.a},created:function(){this.getTipsList()},beforeMount:function(){var a=this;return d()(s.a.mark(function t(){var e,r,n,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return wx.showToast({icon:"loading",title:"安全校验中......",duration:5e3}),t.next=3,a.fixGrade();case 3:return wx.showToast({icon:"success",title:"安全校验通过",duration:1500}),e=a.getUserinfo(),r=a.getNameGradeList(),n=a.getUserGradeList(),o=a.getPaperPackage(),t.next=10,i.a.all([e,r,n,o]);case 10:a.userData=a.$store.getters.getSimpleAllUserGrade(),a.totalData=a.$store.getters.getTotalGrade(),a.rankData=a.$store.getters.getGradeRank(),a.avgData=a.$store.getters.getGradeAvg(),a.isLoaded=!0;case 15:case"end":return t.stop()}},t,a)}))()},mounted:function(){}}},oiWC:function(a,t,e){"use strict";var r=e("cM+9"),s=e("yWEY");var n=function(a){e("4Tbv")},i=e("ybqe")(r.a,s.a,n,null,null);t.a=i.exports},qF6O:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("5nAL"),s=e.n(r),n=e("oiWC");new s.a(n.a).$mount()},yWEY:function(a,t,e){"use strict";var r={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"body",attrs:{eventid:"4"},on:{touchstart:a.handleDragStart,touchend:a.handleDragEnd}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!a.isLoaded,expression:"!isLoaded"}],staticClass:"weui-loadmore"},[e("i",{staticClass:"weui-loading"}),a._v(" "),e("p",{staticClass:"weui-loadmore__tips"},[a._v(a._s(a.renderTips))])],1),a._v(" "),e("div",{staticClass:"navbar-wrap"},[e("div",{staticClass:"weui-tab"},[e("div",{staticClass:"weui-navbar"},[e("div",{staticClass:"weui-navbar__item",class:{"weui-bar__item_on":0===a.currentNavBar},attrs:{eventid:"0"},on:{tap:function(t){a.navBarTo(0)}}},[a._v("\n            总览\n        ")]),a._v(" "),a._l(a.userData,function(t,r){return e("div",{key:r,staticClass:"weui-navbar__item",class:{"weui-bar__item_on":a.currentNavBar===r+1},attrs:{eventid:"1_"+r},on:{tap:function(t){a.navBarTo(r+1)}}},[a._v("\n            "+a._s(t.gradeName)+"\n        ")])})],2)])]),a._v(" "),a.isLoaded?e("div",{staticClass:"grade-line-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===a.currentNavBar,expression:"currentNavBar === 0"}],staticClass:"totalView"},[e("div",{staticClass:"grade-line-wrap"},[e("grade-rank-box",{attrs:{data:a.rankData.grades,rankName:a.rankData.rankName,maxRank:a.rankData.maxRank,shadowColor:a.shadowColor[0],mpcomid:"0"}})],1),a._v(" "),e("div",{staticClass:"grade-line-wrap"},[e("grade-total-box",{attrs:{data:a.totalData.grades,totalName:a.totalData.totalName,maxTotal:a.totalData.maxTotal,url:"/pages/grade/total/main?login=1",shadowColor:a.shadowColor[1],mpcomid:"1"}})],1),a._v(" "),e("div",{staticClass:"grade-line-wrap"},[e("grade-radar-box",{attrs:{data:a.avgData.grades,avgName:a.avgData.avgName,shadowColor:a.shadowColor[2],circle:"circle",mpcomid:"2"}})],1)]),a._v(" "),a._l(a.userData,function(t,r){return a.currentNavBar===r+1?e("div",{key:r,staticClass:"grade-line-wrap"},[e("grade-detail",{attrs:{gradeId:t.gradeId,isTourist:!1,mpcomid:"3_"+r}})],1):a._e()})],2):a._e(),a._v(" "),e("transition",{attrs:{name:"go-new",mpcomid:"4"}},[e("div",{staticClass:"btn-icon refresh",class:{circleing:!1===a.isLoaded},attrs:{eventid:"2"},on:{tap:a.handRefresh}},[e("img",{attrs:{src:"/static/images/refresh.png",alt:""}})])]),a._v(" "),e("transition",{attrs:{name:"go-new",mpcomid:"5"}},[e("div",{staticClass:"btn-icon grade-add",attrs:{eventid:"3"},on:{tap:a.goGradeNew}},[e("img",{attrs:{src:"/static/images/add.png",alt:""}})])])],1)},staticRenderFns:[]};t.a=r}},["qF6O"]);